webpackJsonp([8],{"6ky5":function(e,t){},"e+iX":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=r("woOf"),a=r.n(l),n=r("xT6B"),i=(r("mMlH"),r("FWz8")),s={pageNum:1,pageSize:5,orderSn:null,customerName:null,orderDate:null},o={name:"orderList",data:function(){return{listQuery:a()({},s),list:null,total:null,listLoading:!1,dialogVisible:!1,rules:{customerName:[{required:!0,message:"请输入",trigger:"blur"}],customerTel:[{required:!0,message:"请输入",trigger:"blur"}],other:[{required:!1,message:"请输入",trigger:"blur"}]},order:{}}},created:function(){this.getOrderList()},filters:{formatDateTime:function(e){if(null==e||""===e)return"N/A";var t=new Date(e);return Object(n.a)(t,"yyyy-MM-dd")}},methods:{handleResetSearch:function(){this.listQuery=a()({},s)},handleSearchList:function(){this.listQuery.pageNum=1,this.getOrderList()},handleSizeChange:function(e){this.listQuery.pageNum=1,this.listQuery.pageSize=e,this.getOrderList()},handleCurrentChange:function(e){this.listQuery.pageNum=e,this.getOrderList()},handleOrderDetail:function(e,t){this.order=a()({},t),this.dialogVisible=!0},getOrderList:function(){var e=this;this.listLoading=!0;var t=a()({},this.listQuery);null!=t.orderDate&&(t.orderDate1=t.orderDate[0],t.orderDate2=t.orderDate[1],t.orderDate=null),Object(i.b)(t).then(function(t){e.list=t.data.list,e.total=t.data.total,e.listLoading=!1}).catch(function(){return e.listLoading=!1})}}},u={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container"},[r("el-card",{staticClass:"filter-container",attrs:{shadow:"never"}},[r("div",[r("i",{staticClass:"el-icon-search"}),e._v(" "),r("span",[e._v("筛选搜索")]),e._v(" "),r("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",size:"small"},on:{click:function(t){e.handleSearchList()}}},[e._v("\n          查询搜索\n        ")]),e._v(" "),r("el-button",{staticStyle:{float:"right","margin-right":"15px"},attrs:{size:"small"},on:{click:function(t){e.handleResetSearch()}}},[e._v("\n          重置\n        ")])],1),e._v(" "),r("div",{staticStyle:{"margin-top":"25px"}},[r("el-form",{attrs:{inline:!0,model:e.listQuery,size:"small","label-width":"80px"}},[r("el-form-item",{attrs:{label:"订单号："}},[r("el-input",{staticClass:"input-width",attrs:{placeholder:"订单号",clearable:""},model:{value:e.listQuery.orderSn,callback:function(t){e.$set(e.listQuery,"orderSn",t)},expression:"listQuery.orderSn"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"购买方："}},[r("el-input",{staticClass:"input-width",attrs:{placeholder:"购买方",clearable:""},model:{value:e.listQuery.customerName,callback:function(t){e.$set(e.listQuery,"customerName",t)},expression:"listQuery.customerName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"日期："}},[r("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"~","start-placeholder":"开始日期","end-placeholder":"结束日期",format:"yyyy 年 MM 月 dd 日","value-format":"timestamp"},model:{value:e.listQuery.orderDate,callback:function(t){e.$set(e.listQuery,"orderDate",t)},expression:"listQuery.orderDate"}},[e._v(">\n            ")])],1)],1)],1)]),e._v(" "),r("el-card",{staticClass:"operate-container",attrs:{shadow:"never"}},[r("i",{staticClass:"el-icon-tickets"}),e._v(" "),r("span",[e._v("数据列表")])]),e._v(" "),r("div",{staticClass:"table-container"},[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"roleTable",staticStyle:{width:"100%"},attrs:{data:e.list,border:""}},[r("el-table-column",{attrs:{label:"订单号",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.orderSn))]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"购买方",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.customerName))]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"日期",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatDateTime")(t.row.orderDate)))]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"合计",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("￥"+e._s(t.row.totalAmount))]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"备注",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.orderOther))]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"mini"},on:{click:function(r){e.handleOrderDetail(t.$index,t.row)}}},[e._v("查看详情\n            ")])]}}])})],1)],1),e._v(" "),r("div",{staticClass:"pagination-container"},[r("el-pagination",{attrs:{layout:"total, sizes,prev, pager, next,jumper","current-page":e.listQuery.pageNum,"page-size":e.listQuery.pageSize,"page-sizes":[5,10,15],total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.$set(e.listQuery,"pageNum",t)}}})],1),e._v(" "),r("el-dialog",{attrs:{title:"订单详情",visible:e.dialogVisible,top:"10vh",width:"60%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("el-card",{ref:"orderCard",attrs:{shadow:"never",id:"orderCard"}},[r("div",{attrs:{slot:"header"},slot:"header"},[r("span",{staticClass:"font-small"},[e._v("订单")])]),e._v(" "),r("el-form",{staticStyle:{width:"100%"},attrs:{model:e.order,"label-position":"left","label-width":"10%",size:"small"}},[r("el-form-item",{attrs:{label:"订单号：",prop:"orderSn"}},[r("el-row",[e._v(" "+e._s(e.order.orderSn)+" ")])],1),e._v(" "),r("el-form-item",{attrs:{label:"购买方：",prop:"customerName"}},[r("el-row",[e._v(" "+e._s(e.order.customerName)+" ")])],1),e._v(" "),r("el-form-item",{attrs:{label:"日期：",prop:"orderDate"}},[r("el-row",[e._v(" "+e._s(e._f("formatDateTime")(e.order.orderDate))+" ")])],1),e._v(" "),r("el-form-item",{attrs:{label:"备注：",prop:"orderOther"}},[r("el-row",[e._v(" "+e._s(e.order.orderOther)+" ")])],1)],1),e._v(" "),r("el-table",{ref:"orderItemTable",staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:e.order.goodList}},[r("el-table-column",{attrs:{label:"供货商",width:"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.firm))]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"货品名称",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.stock))]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"规格型号",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.model))]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"数量",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.num))]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"单价",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.price))]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"小计",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              ￥"+e._s(t.row.num*t.row.price)+"\n            ")]}}])})],1),e._v(" "),r("div",{staticStyle:{float:"right",margin:"20px"}},[e._v("\n          合计："),r("span",{staticClass:"color-danger"},[e._v("￥"+e._s(e.order.totalAmount))])])],1)],1)],1)},staticRenderFns:[]};var d=r("VU/8")(o,u,!1,function(e){r("6ky5")},null,null);t.default=d.exports}});
//# sourceMappingURL=8.f70177085f806af915ee.js.map