{"version":3,"sources":["webpack:///./node_modules/core-js/library/fn/array/from.js","webpack:///./src/api/order.js","webpack:///src/views/order/add.vue","webpack:///./src/views/order/add.vue?c4cf","webpack:///./src/views/order/add.vue","webpack:///./node_modules/babel-runtime/helpers/toConsumableArray.js","webpack:///./node_modules/babel-runtime/core-js/array/from.js","webpack:///./node_modules/core-js/library/modules/_create-property.js","webpack:///./node_modules/core-js/library/modules/es6.array.from.js"],"names":["__webpack_require__","module","exports","Array","from","data","res","code","message","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","a","resolve","params","orderList","list","orderSn","customerName","customerId","totalAmount","orderDate","orderOther","goodList","firm","stock","model","price","num","total","add","name","listLoading","updateLoading","rules","required","trigger","order","defaultOrder","customerOptions","stockOptions","stockSelect","stockSelectInfo","dialogVisible","isSaved","created","this","assign_default","getCustomerList","getStockList","filters","formatDateTime","time","date","Date","Object","utils_date","methods","handleResetAdd","handleAddOrder","formName","_this","$refs","validate","valid","then","response","$message","type","duration","_this2","customer","customerList","i","length","push","label","value","key","handleChangeCustomerName","_this3","forEach","handleChangeStock","getCheckedNodes","_this4","api_stock","stockList","oneList","twoList","threeList","stockItem","children","concat","toConsumableArray_default","unit","addGood","parseInt","handleDeleteGood","index","row","splice","handlePrintDialog","_this5","order_add","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","width","margin","attrs","shadow","_v","directives","rawName","expression","color","margin-left","size","on","click","$event","loading","disabled","margin-top","slot","icon-class","ref","label-width","prop","callback","$$v","$set","filterable","allow-create","default-first-option","placeholder","change","_l","item","rows","options","props","expandTrigger","scopedSlots","_u","fn","node","_s","_e","display","border","align","scope","$index","float","title","visible","top","update:visible","id","label-position","_f","text-align","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__","__esModule","obj","_from","_from2","default","arr","isArray","arr2","$defineProperty","createDesc","object","f","ctx","$export","toObject","call","isArrayIter","toLength","createProperty","getIterFn","S","F","iter","arrayLike","result","step","iterator","O","C","aLen","arguments","mapfn","undefined","mapping","iterFn","next","done"],"mappings":"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","file":"static/js/2.332a44dbffc312018ff2.js","sourcesContent":["require('../../modules/es6.string.iterator');\nrequire('../../modules/es6.array.from');\nmodule.exports = require('../../modules/_core').Array.from;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/array/from.js\n// module id = 5zde\n// module chunks = 1 2","import request from '@/utils/request'\nexport function fetchList(params) {\n  return request({\n    url:'/order/list',\n    method:'get',\n    params:params\n  })\n}\n\nexport function closeOrder(params) {\n  return request({\n    url:'/order/update/close',\n    method:'post',\n    params:params\n  })\n}\n\nexport function deleteOrder(params) {\n  return request({\n    url:'/order/delete',\n    method:'post',\n    params:params\n  })\n}\n\nexport function deliveryOrder(data) {\n  return request({\n    url:'/order/update/delivery',\n    method:'post',\n    data:data\n  });\n}\n\nexport function getOrderDetail(id) {\n  return request({\n    url:'/order/'+id,\n    method:'get'\n  });\n}\n\nexport function updateReceiverInfo(data) {\n  return request({\n    url:'/order/update/receiverInfo',\n    method:'post',\n    data:data\n  });\n}\n\nexport function updateMoneyInfo(data) {\n  return request({\n    url:'/order/update/moneyInfo',\n    method:'post',\n    data:data\n  });\n}\n\nexport function updateOrderNote(params) {\n  return request({\n    url:'/order/update/note',\n    method:'post',\n    params:params\n  })\n}\n\n//new\nexport function addOrder(data) {\n  let res = {\n    code: 200,\n    message: \"success\"\n  };\n  return new Promise(resolve => {\n    resolve(res)\n  });\n\n  return request({\n    url:'/order/add',\n    method:'post',\n    data:data\n  });\n}\n\nexport function fetchOrderList(params) {\n  let orderList = {\n    code: 200,\n    message: \"success\",\n    data: {\n      list: [{\n        orderSn: \"SN512231\",\n        customerName: \"Tom\",\n        customerId: 1,\n        totalAmount: 3505,\n        orderDate: 1628472604623,\n        orderOther: \"此处为样例备注\",\n        goodList: [{\n          firm: \"喜马诺\",\n          stock: \"飞轮\",\n          model: \"HG200-9\",\n          price: 62,\n          num: 5\n        }, {\n          firm: \"Michelin\",\n          stock: \"轮胎2\",\n          model: \"215/70R15-2\",\n          price: 639,\n          num: 5\n        }]\n      }],\n      total: 11\n    }\n  };\n  return new Promise(resolve => {\n    resolve(orderList)\n  })\n\n  return request({\n    url:'/order/list',\n    method:'get',\n    params:params\n  });\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/order.js","<template> \n  <div class=\"app-container\" style=\"width: 80%;margin: auto\">\n    <el-card class=\"operate-container\" shadow=\"never\">\n      <i class=\"el-icon-tickets\"></i>\n      <span>订单信息</span>\n      <span v-show=\"isSaved\" style=\"color: red\">（已保存）</span>\n      <el-button size=\"mini\" type=\"danger\" class=\"btn-add\" @click=\"handleResetAdd()\" style=\"margin-left: 20px\">重置</el-button>\n      <el-button size=\"mini\" class=\"btn-add\" :loading=\"updateLoading\" :disabled=\"updateLoading\" @click=\"handleAddOrder('orderInfoForm')\" style=\"margin-left: 20px\">保存</el-button>\n      <el-button size=\"mini\" class=\"btn-add\" :loading=\"updateLoading\" :disabled=\"updateLoading\" @click=\"handlePrintDialog('orderInfoForm')\" style=\"margin-left: 20px\">打印</el-button>\n    </el-card>\n    <div class=\"table-container\" >\n\n      <el-card shadow=\"never\" style=\"margin-top: 15px\">\n        <div slot=\"header\">\n          <svg-icon icon-class=\"marker\" style=\"color: #606266\"></svg-icon>\n          <span class=\"font-small\">基本信息</span>\n        </div>\n        <el-form :model=\"order\" :rules=\"rules\" ref=\"orderInfoForm\"  label-width=\"20%\" style=\"width: 60%;\" size=\"small\">\n          <el-form-item label=\"订单号：\" prop=\"orderSn\">\n            <el-input v-model=\"order.orderSn\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"购买方：\" prop=\"customerName\">\n            <el-select\n              v-model=\"order.customerName\"\n              filterable\n              allow-create\n              default-first-option\n              placeholder=\"请选择购买方\"\n              @change=\"handleChangeCustomerName\">\n              <el-option\n                v-for=\"item in customerOptions\"\n                :key=\"item.key\"\n                :label=\"item.label\"\n                :value=\"item.value\"\n                >\n              </el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"日期：\" prop=\"orderDate\">\n            <el-date-picker\n              v-model=\"order.orderDate\"\n              type=\"date\"\n              placeholder=\"选择日期\">\n            </el-date-picker>\n          </el-form-item>\n          <el-form-item label=\"备注：\" prop=\"orderOther\">\n            <el-input v-model=\"order.orderOther\"\n                      type=\"textarea\"\n                      :rows=\"3\"></el-input>\n          </el-form-item>\n        </el-form>\n      </el-card>\n      <el-card class=\"\" shadow=\"never\" style=\"margin-top: 15px\">\n        <div slot=\"header\" >\n          <svg-icon icon-class=\"marker\" style=\"color: #606266\"></svg-icon>\n          <span class=\"font-small\">货品信息</span>\n          <el-cascader style=\"margin-left: 20px;width: 30%\"\n            ref=\"cascaderSelect\"\n            v-model=\"stockSelect\"\n            filterable\n            :options=\"stockOptions\"\n            :props=\"{ expandTrigger: 'hover' }\"\n            prop=\"stock\"\n            @change=\"handleChangeStock()\">\n            <template slot-scope=\"{ node, data }\">\n              <span>{{ data.label }}</span>\n              <span v-if=\"node.isLeaf\"> (剩余：{{ data.num + data.unit}}) </span>\n            </template>\n          </el-cascader>\n          <el-input-number v-model=\"stockSelectInfo.num\" style=\"margin-left: 20px;display: inline-block;width: 20%\"></el-input-number>\n          <el-button size=\"mini\" type=\"primary\" :disabled=\"stockSelectInfo.firm == null || stockSelectInfo.num == 0\" class=\"btn-add\" @click=\"addGood()\" style=\"margin-left: 20px\">添加</el-button>\n        </div>\n        <el-table\n          ref=\"orderItemTable\"\n          :data=\"order.goodList\"\n          style=\"width: 100%;margin-top: 20px\" border>\n          <el-table-column label=\"供货商\" width=\"120\" align=\"center\">\n            <template slot-scope=\"scope\">{{scope.row.firm}}</template>\n          </el-table-column>\n          <el-table-column label=\"货品名称\" align=\"center\">\n            <template slot-scope=\"scope\">{{scope.row.stock}}</template>\n          </el-table-column>\n          <el-table-column label=\"规格型号\" align=\"center\">\n            <template slot-scope=\"scope\">{{scope.row.model}}</template>\n          </el-table-column>\n          <el-table-column label=\"数量\" align=\"center\">\n            <template slot-scope=\"scope\">{{scope.row.num}}</template>\n          </el-table-column>\n          <el-table-column label=\"单价\" align=\"center\">\n            <template slot-scope=\"scope\">{{scope.row.price}}</template>\n          </el-table-column>\n          <el-table-column label=\"小计\" align=\"center\">\n            <template slot-scope=\"scope\">\n              ￥{{scope.row.num*scope.row.price}}\n            </template>\n          </el-table-column>\n          <el-table-column label=\"操作\" align=\"center\">\n            <template slot-scope=\"scope\">\n              <el-button\n                size=\"mini\"\n                type=\"danger\"\n                @click=\"handleDeleteGood(scope.$index, scope.row)\">删除</el-button>\n            </template>\n          </el-table-column>\n        </el-table>\n        <div style=\"float: right;margin: 20px\">\n          合计：<span class=\"color-danger\">￥{{order.totalAmount}}</span>\n        </div>\n      </el-card>\n    </div>\n    <el-dialog\n      title=\"订单预览\"\n      :visible.sync=\"dialogVisible\"\n      :top = \"'10vh'\"\n      width=\"60%\">\n      <el-card shadow=\"never\" id=\"orderCard\" ref=\"orderCard\" style=\"\">\n        <div slot=\"header\">\n<!--          <svg-icon icon-class=\"marker\" style=\"color: #606266\"></svg-icon>-->\n          <span class=\"font-small\">订单</span>\n        </div>\n        <el-form :model=\"order\" label-position=\"left\" label-width=\"10%\" style=\"width: 100%;\" size=\"small\">\n          <el-form-item label=\"订单号：\" prop=\"orderSn\">\n            <el-row> {{order.orderSn}} </el-row>\n          </el-form-item>\n          <el-form-item label=\"购买方：\" prop=\"customerName\">\n            <el-row> {{order.customerName}} </el-row>\n          </el-form-item>\n          <el-form-item label=\"日期：\" prop=\"orderDate\">\n            <el-row> {{order.orderDate | formatDateTime}} </el-row>\n          </el-form-item>\n          <el-form-item label=\"备注：\" prop=\"orderOther\">\n            <el-row> {{order.orderOther}} </el-row>\n          </el-form-item>\n        </el-form>\n        <el-table\n          ref=\"orderItemTable\"\n          :data=\"order.goodList\"\n          style=\"width: 100%;margin-top: 20px\">\n          <el-table-column label=\"供货商\" width=\"120\" align=\"center\">\n            <template slot-scope=\"scope\">{{scope.row.firm}}</template>\n          </el-table-column>\n          <el-table-column label=\"货品名称\" align=\"center\">\n            <template slot-scope=\"scope\">{{scope.row.stock}}</template>\n          </el-table-column>\n          <el-table-column label=\"规格型号\" align=\"center\">\n            <template slot-scope=\"scope\">{{scope.row.model}}</template>\n          </el-table-column>\n          <el-table-column label=\"数量\" align=\"center\">\n            <template slot-scope=\"scope\">{{scope.row.num}}</template>\n          </el-table-column>\n          <el-table-column label=\"单价\" align=\"center\">\n            <template slot-scope=\"scope\">{{scope.row.price}}</template>\n          </el-table-column>\n          <el-table-column label=\"小计\" align=\"center\">\n            <template slot-scope=\"scope\">\n              ￥{{scope.row.num*scope.row.price}}\n            </template>\n          </el-table-column>\n        </el-table>\n        <div style=\"float: right;margin: 20px\">\n          合计：<span class=\"color-danger\">￥{{order.totalAmount}}</span>\n        </div>\n      </el-card>\n      <div style=\"text-align: center;margin-top: 20px\">\n        <el-button type=\"primary\" size=\"medium\" v-print=\"'#orderCard'\" @click=\"handleAddOrder('orderInfoForm')\">打印并保存</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n<script>\n  import {fetchFirmList, fetchStockList, updateStockList} from \"@/api/stock\";\n  import {addCustomer, fetchCustomerNameList, updateCustomer} from \"@/api/customer\";\n  import {formatDate} from \"@/utils/date\";\n  import {addOrder} from \"@/api/order\";\n  export default {\n    name: 'addOrder',\n    data() {\n      return {\n        listLoading: false,\n        updateLoading: false,\n        rules: {\n          orderSn:  [{required: true, message: '请输入', trigger: 'blur'}],\n          customerName: [{required: true, message: '请输入', trigger: 'change'}],\n          orderDate: [{required: true, message: '请输入', trigger: 'blur'}],\n          orderOther: [{required: false, message: '请输入', trigger: 'blur'}],\n        },\n        order : {},\n        defaultOrder:{\n          orderSn: null,\n          customerName: '',\n          customerId: 0,\n          totalAmount: 0,\n          orderDate: null,\n          orderOther: null,\n          goodList: []\n        },\n        customerOptions: [],\n        stockOptions: [],\n        stockSelect: [],\n        stockSelectInfo: {\n          firm: null,\n          stock: null,\n          model: null,\n          price: null,\n          num: 0\n        },\n        dialogVisible: false,\n        isSaved: false\n      }\n    },\n    created() {\n      this.order =  Object.assign({}, this.defaultOrder);\n      this.getCustomerList();\n      this.getStockList();\n    },\n    filters: {\n      formatDateTime(time) {\n        if (time == null || time === '') {\n          return 'N/A';\n        }\n        let date = new Date(time);\n        return formatDate(date, 'yyyy-MM-dd')\n      }\n    },\n    methods: {\n      handleResetAdd() {\n        this.order =  Object.assign({}, this.defaultOrder);\n        this.order.goodList = [];\n        this.isSaved = false;\n      },\n\n      handleAddOrder(formName){\n        this.$refs[formName].validate((valid) => {\n          if (valid) {\n\n              this.updateLoading = true;\n              addOrder(this.order).then(response => {\n                this.$message({\n                  message: '保存成功',\n                  type: 'success',\n                  duration: 1000\n                });\n                // console.log(\"AddOrder\");\n                this.updateLoading = false;\n                this.dialogVisible = false;\n                this.isSaved = true;\n              });\n\n          }\n        });\n      },\n      getCustomerList() {\n        fetchCustomerNameList().then(response => {\n          this.customerOptions = [];\n          let customerList = response.data.list;\n          // console.log(customerList)\n          for (let i = 0; i < customerList.length; i++) {\n            this.customerOptions.push({label: customerList[i].customerName, value: customerList[i].customerName, key: customerList[i].customerId});\n          }\n        });\n      },\n      handleChangeCustomerName(customerName){\n        this.order.customerId = 0;\n        this.customerOptions.forEach( customer => {\n          if (customer.value == customerName) {\n            this.order.customerId = customer.key;\n            return;\n          }\n        });\n      },\n      handleChangeStock(){\n        this.stockSelectInfo.firm = this.stockSelect[0];\n        this.stockSelectInfo.stock = this.stockSelect[1];\n        this.stockSelectInfo.model = this.stockSelect[2];\n        this.stockSelectInfo.price = this.$refs['cascaderSelect'].getCheckedNodes()[0].data.price;\n      },\n      getStockList() {\n        fetchStockList({}).then(response => {\n          let stockList = response.data.list;\n          let oneList = [];\n          let twoList = [];\n          let threeList = [];\n          let firm = '';\n          let stock = '';\n          let model = '';\n          if (stockList.length > 0){\n            firm = stockList[0].firm;\n            stock = stockList[0].stock;\n            model = stockList[0].model;\n          }\n          stockList.forEach(stockItem => {\n            if (stock != stockItem.stock){\n              twoList.push({label: stock, value: stock, children: [...threeList]});\n              threeList = [];\n            }\n\n            if (firm != stockItem.firm){\n              oneList.push({label: firm, value: firm, children: [...twoList]});\n              twoList = [];\n            }\n\n            threeList.push({label: stockItem.model, value: stockItem.model, num: stockItem.num, unit: stockItem.unit, price: stockItem.price});\n            //记录本次，下次与本次进行比对判断是否生成二级菜单和三级菜单\n            stock = stockItem.stock;\n            firm = stockItem.firm;\n            model = stockItem.model;\n          });\n          twoList.push({label: stock, value: stock, children: [...threeList]});\n          oneList.push({label: firm, value: firm, children: [...twoList]});\n          this.stockOptions = [...oneList];\n        });\n      },\n      addGood(){\n        this.order.goodList.push({firm:this.stockSelectInfo.firm, stock:this.stockSelectInfo.stock, model:this.stockSelectInfo.model,\n          price:this.stockSelectInfo.price, num:parseInt(this.stockSelectInfo.num,10)});\n        this.order.totalAmount += this.stockSelectInfo.price * this.stockSelectInfo.num;\n      },\n      handleDeleteGood(index, row) {\n        // console.log(index, row);\n        this.order.goodList.splice(index,1);\n        this.order.totalAmount -=  row.price * row.num;\n      },\n      handlePrintDialog(formName) {\n        this.$refs[formName].validate((valid) => {\n          if (valid) {\n            this.dialogVisible = true;\n          }\n        });\n      }\n    }\n  }\n</script>\n<style>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/order/add.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\",staticStyle:{\"width\":\"80%\",\"margin\":\"auto\"}},[_c('el-card',{staticClass:\"operate-container\",attrs:{\"shadow\":\"never\"}},[_c('i',{staticClass:\"el-icon-tickets\"}),_vm._v(\" \"),_c('span',[_vm._v(\"订单信息\")]),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isSaved),expression:\"isSaved\"}],staticStyle:{\"color\":\"red\"}},[_vm._v(\"（已保存）\")]),_vm._v(\" \"),_c('el-button',{staticClass:\"btn-add\",staticStyle:{\"margin-left\":\"20px\"},attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){_vm.handleResetAdd()}}},[_vm._v(\"重置\")]),_vm._v(\" \"),_c('el-button',{staticClass:\"btn-add\",staticStyle:{\"margin-left\":\"20px\"},attrs:{\"size\":\"mini\",\"loading\":_vm.updateLoading,\"disabled\":_vm.updateLoading},on:{\"click\":function($event){_vm.handleAddOrder('orderInfoForm')}}},[_vm._v(\"保存\")]),_vm._v(\" \"),_c('el-button',{staticClass:\"btn-add\",staticStyle:{\"margin-left\":\"20px\"},attrs:{\"size\":\"mini\",\"loading\":_vm.updateLoading,\"disabled\":_vm.updateLoading},on:{\"click\":function($event){_vm.handlePrintDialog('orderInfoForm')}}},[_vm._v(\"打印\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"table-container\"},[_c('el-card',{staticStyle:{\"margin-top\":\"15px\"},attrs:{\"shadow\":\"never\"}},[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('svg-icon',{staticStyle:{\"color\":\"#606266\"},attrs:{\"icon-class\":\"marker\"}}),_vm._v(\" \"),_c('span',{staticClass:\"font-small\"},[_vm._v(\"基本信息\")])],1),_vm._v(\" \"),_c('el-form',{ref:\"orderInfoForm\",staticStyle:{\"width\":\"60%\"},attrs:{\"model\":_vm.order,\"rules\":_vm.rules,\"label-width\":\"20%\",\"size\":\"small\"}},[_c('el-form-item',{attrs:{\"label\":\"订单号：\",\"prop\":\"orderSn\"}},[_c('el-input',{model:{value:(_vm.order.orderSn),callback:function ($$v) {_vm.$set(_vm.order, \"orderSn\", $$v)},expression:\"order.orderSn\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"购买方：\",\"prop\":\"customerName\"}},[_c('el-select',{attrs:{\"filterable\":\"\",\"allow-create\":\"\",\"default-first-option\":\"\",\"placeholder\":\"请选择购买方\"},on:{\"change\":_vm.handleChangeCustomerName},model:{value:(_vm.order.customerName),callback:function ($$v) {_vm.$set(_vm.order, \"customerName\", $$v)},expression:\"order.customerName\"}},_vm._l((_vm.customerOptions),function(item){return _c('el-option',{key:item.key,attrs:{\"label\":item.label,\"value\":item.value}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"日期：\",\"prop\":\"orderDate\"}},[_c('el-date-picker',{attrs:{\"type\":\"date\",\"placeholder\":\"选择日期\"},model:{value:(_vm.order.orderDate),callback:function ($$v) {_vm.$set(_vm.order, \"orderDate\", $$v)},expression:\"order.orderDate\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"备注：\",\"prop\":\"orderOther\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":3},model:{value:(_vm.order.orderOther),callback:function ($$v) {_vm.$set(_vm.order, \"orderOther\", $$v)},expression:\"order.orderOther\"}})],1)],1)],1),_vm._v(\" \"),_c('el-card',{staticStyle:{\"margin-top\":\"15px\"},attrs:{\"shadow\":\"never\"}},[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('svg-icon',{staticStyle:{\"color\":\"#606266\"},attrs:{\"icon-class\":\"marker\"}}),_vm._v(\" \"),_c('span',{staticClass:\"font-small\"},[_vm._v(\"货品信息\")]),_vm._v(\" \"),_c('el-cascader',{ref:\"cascaderSelect\",staticStyle:{\"margin-left\":\"20px\",\"width\":\"30%\"},attrs:{\"filterable\":\"\",\"options\":_vm.stockOptions,\"props\":{ expandTrigger: 'hover' },\"prop\":\"stock\"},on:{\"change\":function($event){_vm.handleChangeStock()}},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar node = ref.node;\nvar data = ref.data;\nreturn [_c('span',[_vm._v(_vm._s(data.label))]),_vm._v(\" \"),(node.isLeaf)?_c('span',[_vm._v(\" (剩余：\"+_vm._s(data.num + data.unit)+\") \")]):_vm._e()]}}]),model:{value:(_vm.stockSelect),callback:function ($$v) {_vm.stockSelect=$$v},expression:\"stockSelect\"}}),_vm._v(\" \"),_c('el-input-number',{staticStyle:{\"margin-left\":\"20px\",\"display\":\"inline-block\",\"width\":\"20%\"},model:{value:(_vm.stockSelectInfo.num),callback:function ($$v) {_vm.$set(_vm.stockSelectInfo, \"num\", $$v)},expression:\"stockSelectInfo.num\"}}),_vm._v(\" \"),_c('el-button',{staticClass:\"btn-add\",staticStyle:{\"margin-left\":\"20px\"},attrs:{\"size\":\"mini\",\"type\":\"primary\",\"disabled\":_vm.stockSelectInfo.firm == null || _vm.stockSelectInfo.num == 0},on:{\"click\":function($event){_vm.addGood()}}},[_vm._v(\"添加\")])],1),_vm._v(\" \"),_c('el-table',{ref:\"orderItemTable\",staticStyle:{\"width\":\"100%\",\"margin-top\":\"20px\"},attrs:{\"data\":_vm.order.goodList,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"供货商\",\"width\":\"120\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.firm))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"货品名称\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.stock))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"规格型号\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.model))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"数量\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.num))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"单价\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.price))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"小计\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n              ￥\"+_vm._s(scope.row.num*scope.row.price)+\"\\n            \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){_vm.handleDeleteGood(scope.$index, scope.row)}}},[_vm._v(\"删除\")])]}}])})],1),_vm._v(\" \"),_c('div',{staticStyle:{\"float\":\"right\",\"margin\":\"20px\"}},[_vm._v(\"\\n          合计：\"),_c('span',{staticClass:\"color-danger\"},[_vm._v(\"￥\"+_vm._s(_vm.order.totalAmount))])])],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"订单预览\",\"visible\":_vm.dialogVisible,\"top\":'10vh',\"width\":\"60%\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-card',{ref:\"orderCard\",attrs:{\"shadow\":\"never\",\"id\":\"orderCard\"}},[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',{staticClass:\"font-small\"},[_vm._v(\"订单\")])]),_vm._v(\" \"),_c('el-form',{staticStyle:{\"width\":\"100%\"},attrs:{\"model\":_vm.order,\"label-position\":\"left\",\"label-width\":\"10%\",\"size\":\"small\"}},[_c('el-form-item',{attrs:{\"label\":\"订单号：\",\"prop\":\"orderSn\"}},[_c('el-row',[_vm._v(\" \"+_vm._s(_vm.order.orderSn)+\" \")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"购买方：\",\"prop\":\"customerName\"}},[_c('el-row',[_vm._v(\" \"+_vm._s(_vm.order.customerName)+\" \")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"日期：\",\"prop\":\"orderDate\"}},[_c('el-row',[_vm._v(\" \"+_vm._s(_vm._f(\"formatDateTime\")(_vm.order.orderDate))+\" \")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"备注：\",\"prop\":\"orderOther\"}},[_c('el-row',[_vm._v(\" \"+_vm._s(_vm.order.orderOther)+\" \")])],1)],1),_vm._v(\" \"),_c('el-table',{ref:\"orderItemTable\",staticStyle:{\"width\":\"100%\",\"margin-top\":\"20px\"},attrs:{\"data\":_vm.order.goodList}},[_c('el-table-column',{attrs:{\"label\":\"供货商\",\"width\":\"120\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.firm))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"货品名称\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.stock))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"规格型号\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.model))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"数量\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.num))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"单价\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.price))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"小计\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n              ￥\"+_vm._s(scope.row.num*scope.row.price)+\"\\n            \")]}}])})],1),_vm._v(\" \"),_c('div',{staticStyle:{\"float\":\"right\",\"margin\":\"20px\"}},[_vm._v(\"\\n          合计：\"),_c('span',{staticClass:\"color-danger\"},[_vm._v(\"￥\"+_vm._s(_vm.order.totalAmount))])])],1),_vm._v(\" \"),_c('div',{staticStyle:{\"text-align\":\"center\",\"margin-top\":\"20px\"}},[_c('el-button',{directives:[{name:\"print\",rawName:\"v-print\",value:('#orderCard'),expression:\"'#orderCard'\"}],attrs:{\"type\":\"primary\",\"size\":\"medium\"},on:{\"click\":function($event){_vm.handleAddOrder('orderInfoForm')}}},[_vm._v(\"打印并保存\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1a87cddc\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/order/add.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1a87cddc\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./add.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./add.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./add.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1a87cddc\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./add.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/order/add.vue\n// module id = null\n// module chunks = ","\"use strict\";\n\nexports.__esModule = true;\n\nvar _from = require(\"../core-js/array/from\");\n\nvar _from2 = _interopRequireDefault(_from);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  } else {\n    return (0, _from2.default)(arr);\n  }\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/helpers/toConsumableArray.js\n// module id = Gu7T\n// module chunks = 1 2","module.exports = { \"default\": require(\"core-js/library/fn/array/from\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/array/from.js\n// module id = c/Tr\n// module chunks = 1 2","'use strict';\nvar $defineProperty = require('./_object-dp');\nvar createDesc = require('./_property-desc');\n\nmodule.exports = function (object, index, value) {\n  if (index in object) $defineProperty.f(object, index, createDesc(0, value));\n  else object[index] = value;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_create-property.js\n// module id = fBQ2\n// module chunks = 1 2","'use strict';\nvar ctx = require('./_ctx');\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar toLength = require('./_to-length');\nvar createProperty = require('./_create-property');\nvar getIterFn = require('./core.get-iterator-method');\n\n$export($export.S + $export.F * !require('./_iter-detect')(function (iter) { Array.from(iter); }), 'Array', {\n  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)\n  from: function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n    var O = toObject(arrayLike);\n    var C = typeof this == 'function' ? this : Array;\n    var aLen = arguments.length;\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var index = 0;\n    var iterFn = getIterFn(O);\n    var length, result, step, iterator;\n    if (mapping) mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);\n    // if object isn't iterable or it's array with default iterator - use simple case\n    if (iterFn != undefined && !(C == Array && isArrayIter(iterFn))) {\n      for (iterator = iterFn.call(O), result = new C(); !(step = iterator.next()).done; index++) {\n        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);\n      }\n    } else {\n      length = toLength(O.length);\n      for (result = new C(length); length > index; index++) {\n        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);\n      }\n    }\n    result.length = index;\n    return result;\n  }\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.array.from.js\n// module id = qyJz\n// module chunks = 1 2"],"sourceRoot":""}